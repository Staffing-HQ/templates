apiVersion: scaffolder.backstage.io/v1beta3
kind: Template
metadata:
  name: create-sa-record
  title: Create ServiceNow Record
spec:
  owner: developers
  type: servicenow
  parameters:
    - title: Retrieve records
      required:
        - tableName
        # - sysId
      properties:
        tableName:
          title: Table name
          type: string
          description: Table name
          ui:autofocus: true
        # sysId:
        #   title: System ID
        #   type: string
        #   description: System ID
  steps:
    - id: createRecord
      name: Create ServiceNow Record
      action: servicenow:now:table:retrieveRecords
      input:
        tableName: "${{ parameters.tableName }}"
        # sysId: "${{ parameters.sysId }}"
  output:
    text:
      - title: Retrieved records
        content: ${{ steps.createRecord.output.result | dump }}
